(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{452:function(t,s,a){"use strict";a.r(s);var n=a(29),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"å‰è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),a("blockquote",[a("p",[t._v("æœ€è¿‘é‡åˆ°çš„é—®é¢˜è¿˜æ˜¯è›®å¤šçš„ï¼Œå¯èƒ½è¿™ä¹Ÿæ˜¯åŠ æ·±è‡ªå·±.NET MVC æœ€å¥½çš„æ—¶å€™å§ã€‚")]),t._v(" "),a("p",[t._v("åœ¨é¡¹ç›®ä¸­ï¼Œå› ä¸ºä½¿ç”¨Ajaxçš„æäº¤æ–¹å¼ï¼Œå¯¼è‡´ç‚¹å‡»æäº¤ï¼Œè¡¨å•èµ°çš„æ˜¯Ajaxæ–¹å¼ï¼Œç»•è¿‡äº†è¡¨å•æç¤ºï¼ˆä¾‹å¦‚ï¼šè¡¨å•ä¸­"),a("code",[t._v("ç”¨æˆ·å")]),t._v("æç¤ºé‡å¤ï¼Œä½†æ˜¯è¿˜æ˜¯æäº¤æˆåŠŸï¼Œæ–°å¢ä¸€æ¡è®°å½•ï¼‰ï¼Œåœ¨è°ƒè¯•çš„æ—¶å€™å‘ç°ï¼Œè™½ç„¶Remoteå±æ€§è§¦å‘äº†åå°éªŒè¯ï¼Œä¹Ÿè¿”å›åˆ°å‰ç«¯ï¼Œå¹¶æ˜¾ç¤ºå‡ºæ¥ï¼Œä½†æ˜¯è¿˜æ˜¯èµ°åˆ°äº†"),a("code",[t._v("ModelState.IsValid")]),t._v("ï¼Œå¹¶ä¸”é€šè¿‡äº†éªŒè¯ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"æ­£æ–‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ­£æ–‡"}},[t._v("#")]),t._v(" æ­£æ–‡")]),t._v(" "),a("h3",{attrs:{id:"é—®é¢˜æˆªå›¾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜æˆªå›¾"}},[t._v("#")]),t._v(" é—®é¢˜æˆªå›¾")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/uj6IgDr.gif",alt:""}})]),t._v(" "),a("ul",[a("li",[a("p",[t._v("å›¾ç‰‡ä¸­Createï¼Œæ˜¯å±äºé¡µé¢å†…éƒ¨çš„Submitï¼Œé”™è¯¯å‡ºç°åï¼Œå®ƒä¸ä¼šè§¦å‘æäº¤ï¼Œä½†æ˜¯ä¹Ÿæ‹¿ä¸åˆ°è¿”å›å€¼")])]),t._v(" "),a("li",[a("p",[t._v("å¯ä»¥çœ‹å‡ºï¼ŒRemoteç‰¹æ€§ï¼Œæ˜¯ç¦»å¼€ç„¦ç‚¹ï¼Œå³ä¼šè§¦å‘éªŒè¯")])]),t._v(" "),a("li",[a("p",[t._v("ä¿å­˜æŒ‰é’®ï¼Œåœ¨å‰ç«¯æç¤ºäº†é”™è¯¯ä¿¡æ¯åï¼Œä»ç„¶ä¿å­˜æˆåŠŸï¼Œå› ä¸º"),a("code",[t._v("ModelState")]),t._v("çš„é”™è¯¯ä¿¡æ¯æœªåŒ…å«è¿›æ¥ï¼Œå¯¼è‡´éªŒè¯åˆ¤æ–­é€šè¿‡ï¼ˆ"),a("code",[t._v("ModelState.IsValid = true")]),t._v("ï¼‰")])])]),t._v(" "),a("h3",{attrs:{id:"é—®é¢˜åˆ†æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜åˆ†æ"}},[t._v("#")]),t._v(" é—®é¢˜åˆ†æ")]),t._v(" "),a("p",[t._v("åœ¨è¡¨å•æäº¤æ—¶ï¼Œä½¿ç”¨Ajaxæäº¤ï¼Œéè¡¨å•è‡ªèº«submitæäº¤ï¼Œè€Œæ˜¯åœ¨å¤–éƒ¨åµŒå¥—äº†ä¸€ä¸ªå¼¹çª—ï¼ˆBootstrap3-dialogï¼‰ï¼Œå› ä¸ºæˆ‘åƒä½¿ç”¨Ajaxæäº¤åï¼Œæ‹¿åˆ°è¿”å›å€¼ï¼Œè¿›ä¸€æ­¥æç¤ºç”¨æˆ·æ“ä½œã€‚")]),t._v(" "),a("p",[t._v("ä½†æ˜¯è¿™é‡Œå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œè™½ç„¶æˆ‘çš„æŸä¸ªå­—æ®µè¿›è¡Œäº†ç‰¹æ€§éªŒè¯ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰é˜»æ­¢Ajaxæäº¤ï¼ˆè¿™æ˜¯è‚¯å®šçš„ï¼ŒAjaxæ‰§è¡Œå‰å¹¶æ²¡æœ‰åŠ åˆ¤æ–­æ¡ä»¶ï¼Œä¾‹å¦‚ï¼šè¡¨å•æœªé€šè¿‡éªŒè¯ä¹‹ç±»çš„ï¼Œå°±ä¸æ‰§è¡ŒAjaxï¼‰ã€‚æ‰€ä»¥ï¼Œå½“è¡¨å•æç¤ºäº†é‡å¤åï¼Œä»£ç è¿˜æ˜¯ç»§ç»­å‘åæ‰§è¡Œï¼Œåˆ°äº†ä¿å­˜è¿™ä¸€æ­¥ï¼Œå¹¶ä¸”ï¼Œ"),a("code",[t._v("ModelState.IsValid")]),t._v("çš„å€¼ä¸º"),a("code",[t._v("True")]),t._v("ï¼ˆä¸å¯¹å•Šï¼Œç•Œé¢éƒ½æ˜¾ç¤ºäº†é”™è¯¯ï¼Œä½†æ˜¯"),a("code",[t._v("ModelState")]),t._v("é‡Œé¢æ²¡æœ‰ï¼Œæˆ‘è®¤ä¸ºè¿™é‡Œæ˜¯å› ä¸º"),a("code",[t._v("RemoteAttribute")]),t._v("ç‰¹æ€§çš„åŸå› ï¼‰")]),t._v(" "),a("h3",{attrs:{id:"é—®é¢˜å°è¯•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜å°è¯•"}},[t._v("#")]),t._v(" é—®é¢˜å°è¯•")]),t._v(" "),a("p",[t._v("åœ¨ä¸Šç½‘æœç´¢é—®é¢˜æ—¶ã€å‰ï¼Œæˆ‘è®¤ä¸ºå¯ä»¥å°è¯•å‡ ç§æ–¹å¼ï¼š")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("Ajax")]),t._v("é‡Œé¢ï¼Œè§¦å‘"),a("code",[t._v("submit")]),t._v("æäº¤ï¼Œè§¦å‘è¡¨å•é”™è¯¯ï¼Œè€Œä¸”è¡¨å•ä¹Ÿä¼šå®æ—¶è¿”å›é”™è¯¯ï¼Œé˜»æ­¢"),a("code",[t._v("submit")]),t._v("æäº¤åˆ°åç«¯ã€‚æ„Ÿè§‰è¿™å¾ˆä¸é”™ï¼Œä½†æ˜¯è¿™æ ·ï¼Œæˆ‘æ‹¿ä¸åˆ°åç«¯æ‰§è¡Œåçš„ç»“æœï¼ˆæˆ‘ä¸çŸ¥é“å¦‚ä½•ä½¿ç”¨"),a("code",[t._v("submit")]),t._v("æäº¤åï¼Œæ‹¿åˆ°åç«¯æ‰§è¡Œè¿”å›ç»“æœï¼‰ã€‚è¿™ä¸ªæœ‰ç‚¹ä¸å®Œç¾ï¼ˆæˆ‘æç¤ºä¸äº†ç”¨æˆ·äº†ï¼Œæ¯”å¦‚ï¼šæ“ä½œæˆåŠŸä¹‹ç±»çš„ï¼‰")]),t._v(" "),a("li",[t._v("å‰ç«¯åœ¨Ajaxè¯·æ±‚æ—¶ï¼Œåœ¨æ‹¿åˆ°çš„æ•°æ®é‡Œé¢åˆ¤æ–­ï¼ˆæˆ‘å¯ä»¥é€šè¿‡"),a("code",[t._v("bootstrap3-dialog")]),t._v("å¼¹çª—ï¼Œæ‹¿åˆ°è¡¨å•ä¸­ä»»ä½•ä¿¡æ¯ï¼‰ï¼Œè‹¥è¡¨å•ä¸­æœ‰é”™è¯¯ä¿¡æ¯ï¼Œé‚£ä¹ˆæˆ‘å°±ä¸æäº¤è¡¨å•ã€‚è¿™ä¸ªè§£å†³æ–¹å¼ï¼Œï¼ˆæˆ‘è®¤ä¸ºæ˜¯å¯è¡Œçš„ï¼Œæå–ä¸€ä¸‹è¡¨å•çš„é”™è¯¯ä¿¡æ¯å³å¯ï¼‰")]),t._v(" "),a("li",[t._v("åç«¯"),a("code",[t._v("RemoteAttribute")]),t._v("é‡å†™ï¼Œå°†å…¶é”™è¯¯ä¿¡æ¯æ”¾åœ¨"),a("code",[t._v("ModelState")]),t._v("ä¸­ï¼ˆä¸ºä»€ä¹ˆå…¶ä»–Requiredï¼ŒRangeä¹‹ç±»çš„"),a("code",[t._v("é”™è¯¯ä¿¡æ¯")]),t._v("éƒ½å¯ä»¥æ”¾åœ¨"),a("code",[t._v("ModelState")]),t._v("ï¼Œä½ "),a("code",[t._v("RemoteAttribute")]),t._v("ä¸è¡Œï¼‰ï¼Œæ‰€ä»¥æˆ‘æ‰“ç®—é‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œè¡¨ç¤ºæˆ‘çš„ä¸æœğŸ™ƒ")])]),t._v(" "),a("h3",{attrs:{id:"é—®é¢˜è§£å†³"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜è§£å†³"}},[t._v("#")]),t._v(" é—®é¢˜è§£å†³")]),t._v(" "),a("p",[t._v("é¦–å…ˆï¼Œå°è¯•äº†ä¸€ä¸‹æˆ‘å‰ç«¯æ—¶é—´åˆšå­¦åˆ°çš„**"),a("code",[t._v("è‡ªå®šä¹‰éªŒè¯é€»è¾‘")]),t._v("**ï¼Œè¿™æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œæˆ‘ä»¬å¯ä»¥ä»»æ„å®šä¹‰éªŒè¯é€»è¾‘ï¼Œåœ¨æ‰€æœ‰"),a("code",[t._v("Model")]),t._v("ä¸­åº”ç”¨ï¼Œæˆ–åªåœ¨å•ä¸€çš„"),a("code",[t._v("Model")]),t._v("ä¸­åº”ç”¨ï¼Œå„æœ‰æ‰€é•¿ã€‚è¿™é‡Œæˆ‘é€‰æ‹©é‡å¤ä½¿ç”¨ç‡é«˜çš„ï¼ˆåœ¨æ‰€æœ‰"),a("code",[t._v("Model")]),t._v("ä¸­åº”ç”¨ï¼‰ï¼Œ"),a("a",{attrs:{href:"http://ruanheng.xyz/2019/11/20/ASP-NET-MVC5-%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B%EF%BC%88%E4%B8%89%EF%BC%89/",target:"_blank",rel:"noopener noreferrer"}},[t._v("å‚è€ƒï¼šASP.NET MVC5 é«˜çº§ç¼–ç¨‹ç¬”è®°ï¼ˆä¸‰ï¼‰"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("ç„¶åæˆ‘åœ¨"),a("code",[t._v("Stackoverflow")]),t._v("çœ‹åˆ°äº†è¿™ä¸ªé—®é¢˜åŠå›ç­”")]),t._v(" "),a("p",[t._v("é—®ï¼š"),a("code",[t._v("ASP.MVC3 ModelState.IsValid not include RemoteAttribute checking")]),t._v("ï¼ˆ"),a("code",[t._v("ModelState")]),t._v("ä¸­ä¸åŒ…å«"),a("code",[t._v("RemoteAttribute")]),t._v("ç‰¹æ€§çš„éªŒè¯ï¼‰")]),t._v(" "),a("p",[t._v("å›ç­”å»ºè®®ï¼šé‡å†™ä¸€ä¸ª"),a("code",[t._v("RemoteAttribute")]),t._v("ï¼Œæˆ–å®ç°"),a("code",[t._v("IDataErrorInfo")]),t._v("æˆ–"),a("code",[t._v("IValidatableObject")]),t._v("ï¼Œç„¶ååœ¨æ­¤é‡åšéªŒè¯ï¼ˆä¸æ˜¯å¾ˆæ‡‚ï¼Œå¯èƒ½è¿˜æ²¡æœ‰å­¦åˆ°è¿™é‡Œï¼‰")]),t._v(" "),a("h3",{attrs:{id:"ä»£ç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»£ç "}},[t._v("#")]),t._v(" ä»£ç ")]),t._v(" "),a("p",[t._v("ç›®å½•ç»“æ„")]),t._v(" "),a("p",[t._v("controllerï¼Œé‡Œé¢åŒ…å«æ§åˆ¶å™¨ï¼ŒåŠéªŒè¯é‡å¤çš„å…·ä½“é€»è¾‘ï¼ŒæŸ¥è¯¢ï¼Œè¿”å›ç»“æœç­‰")]),t._v(" "),a("p",[t._v("modelï¼ŒåŒ…å«æ¨¡å‹ï¼ŒåŠè‡ªå®šä¹‰éªŒè¯é€»è¾‘ï¼ˆ"),a("code",[t._v("DataIsExistsAttribute")]),t._v("ï¼‰")]),t._v(" "),a("p",[t._v("Resourcesï¼ŒåŒ…å«èµ„æºæ–‡ä»¶ï¼Œä¾‹å¦‚å¤šè¯­è¨€æ”¯æŒ")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/VLMdvES.png",alt:""}})]),t._v(" "),a("p",[t._v("controller")]),t._v(" "),a("div",{staticClass:"language-CSharp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-csharp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// <summary>")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// éªŒè¯æŸåœ°åŒºæ˜¯å¦å·²å­˜åœ¨ç›¸åŒçš„æ¥¼å±‚")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// </summary>")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// <returns></returns>")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("HttpGet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token return-type class-name"}},[t._v("ActionResult")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("CheckFloorNoIsExists")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FloorModel")]),t._v(" model"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")])]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("SelectFloorToFloor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("model"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("floorcode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" model"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("floor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Json")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" JsonRequestBehavior"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AllowGet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å¼¹å‡ºé¡µ"),a("code",[t._v("view")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å¼¹å‡ºé¡µï¼Œéœ€å¯¹jQueryï¼Œä»¥åŠjQueryValidateå¼•ç”¨")]),t._v("\n@Scripts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~/bundles/jquery"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å°±æ˜¯Jquery")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//<script src="/Scripts/jquery-2.1.4.js"><\/script>')]),t._v("\n\n@Scripts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~/bundles/jqueryval"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å°±æ˜¯ä¸‹é¢è¿™ä¸¤ä¸ª")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//<script src="~/Scripts/jquery.validate.min.js"><\/script>')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//<script src="~/Scripts/jquery.validate.unobtrusive.min.js"><\/script>')]),t._v("\n")])])]),a("p",[t._v("å¼¹å‡ºé¡µï¼Œçˆ¶é¡µviewï¼Œæ’ä»¶å¯ä»¥"),a("strong",[t._v("å‚è€ƒåœ°å€")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    top"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Dialog"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Form")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        title"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@Resource.Import - @Resource.btnAdd"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        url"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/FloorConfig/Add"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        btnSave"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@Resource.btnSave"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        btnCancel"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@Resource.btnCancel"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        dialogInfo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@Resource.dialogInfo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("code",[t._v("/App_Start/BundleConfig.cs")])]),t._v(" "),a("div",{staticClass:"language-CSharp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-csharp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BundleConfig")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token return-type class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("RegisterBundles")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BundleCollection")]),t._v(" bundles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        bundles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("ScriptBundle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~/bundles/jquery"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Include")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~/Scripts/jquery-{version}.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        bundles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("ScriptBundle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~/bundles/jqueryval"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Include")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~/Scripts/jquery.validate*"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("model")]),t._v(" "),a("div",{staticClass:"language-CSharp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-csharp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FloorModel")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// <summary>")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// æ¥¼å±‚ç¼–å·")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// </summary>")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ç‰¹æ€§æ ¡éªŒï¼Œè‡ªå®šä¹‰ç‰¹æ€§ï¼Œä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œå¤šè¯­è¨€æ–¹å¼")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token attribute"}},[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataIsExists")]),a("span",{pre:!0,attrs:{class:"token attribute-arguments"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CheckFloorNoIsExists"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"FloorConfig"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ErrorMessageResourceType "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token type-expression class-name"}},[t._v("Resources"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Resource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ErrorMessageResourceName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"msgFoolr"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" AdditionalFields "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"floorcode,floor"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ä¹‹å‰çš„æ–¹å¼")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//[Remote("CheckFloorNoIsExists", "FloorConfig", ErrorMessageResourceType = typeof(Resources.Resource), ErrorMessageResourceName = "msgFoolr", AdditionalFields = "floorcode,floor")]')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token return-type class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")])]),t._v(" floor "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// <summary>")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// åœ°åŒºç¼–å·")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// </summary>")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ErrorMessageResourceType "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token type-expression class-name"}},[t._v("Resources"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Resource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ErrorMessageResourceName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"notNull"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token attribute"}},[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Display")]),a("span",{pre:!0,attrs:{class:"token attribute-arguments"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ResourceType "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token type-expression class-name"}},[t._v("Resources"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Resource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"areaNumber"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token return-type class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("string")])]),t._v(" floorcode "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//..")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("code",[t._v("DataIsExistsAttribute.cs")])]),t._v(" "),a("div",{staticClass:"language-CSharp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-csharp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataIsExistsAttribute")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token type-list"}},[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RemoteAttribute")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//é‡å†™åº”æœ‰çš„æ–¹æ³•ï¼Œåˆ°æ—¶å€™å…¶ä»–æ¨¡å‹è°ƒç”¨æ›´æ–¹ä¾¿")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DataIsExistsAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("string")])]),t._v(" routeName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("base")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("routeName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DataIsExistsAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("string")])]),t._v(" action"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("string")])]),t._v(" controller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("base")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("controller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DataIsExistsAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("string")])]),t._v(" action"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("string")])]),t._v(" conrtoller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("string")])]),t._v(" areaName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("base")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" conrtoller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" areaName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//é‡å†™IsValidæ–¹æ³•")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token return-type class-name"}},[t._v("ValidationResult")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("IsValid")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("object")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ValidationContext")]),t._v(" validationContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        \n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è·å–ä¼ å…¥controller,ç”±äºä¸»é¡¹ç›®å·²ç»å¼•ç”¨Modelç±»åº“ï¼Œè‹¥Modelå†å¼•ç”¨ä¸»é¡¹ç›®å°†å¯¼è‡´åµŒå¥—å¼•ç”¨ï¼Œæ‰€ä»¥é‡‡ç”¨åå°„çš„æ–¹å¼")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Type")]),t._v(" controller "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Assembly"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxxx.xxx.webPlatform"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetTypes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("FirstOrDefault")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ToLower")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{0}Controller"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("RouteData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"controller"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ToString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ToLower")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("controller "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è·å–Action")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MethodInfo")]),t._v(" action "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" controller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetMethods")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("FirstOrDefault")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("method "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ToLower")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("RouteData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"action"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ToString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ToLower")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åˆ›å»ºæ§åˆ¶å™¨å®ä¾‹ï¼Œå¹¶è°ƒç”¨æ–¹æ³•ï¼Œä¼ å…¥ObjectInstanceè¿™ä¸ªå‚æ•°ï¼Œå³FloorModelæ•´ä¸ªå¯¹è±¡")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("object")])]),t._v(" instance "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Activator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("CreateInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("controller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("object")])]),t._v(" response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" action"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Invoke")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" validationContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ObjectInstance "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åˆ¤æ–­è¿”å›æ˜¯å¦æ˜¯JsonResultç±»å‹")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("is")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JsonResult")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æ‹¿åˆ°Data")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("object")])]),t._v(" jsonData "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("JsonResult"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æ ¹æ®Dataåˆ¤æ–­æ˜¯å¦è¿”å›éªŒè¯æˆåŠŸï¼Œè‹¥æœªæˆåŠŸï¼Œåˆ™ä¼šæ·»åŠ è¿›ModelStateä¸­")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("jsonData "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("is")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("bool")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("bool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("jsonData "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v(" ValidationResult"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Success "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("ValidationResult")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ErrorMessage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("base")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("IsValid")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" validationContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æœ€ç»ˆæ•ˆæœï¼ˆå‰é¢å·²æœ‰çš„æ•°æ®ï¼Œåé¢å†æ–°å¢ï¼Œé€šè¿‡Ajaxçš„æ–¹å¼ä¹Ÿä¸ä¼šå†è¿›è¡Œæäº¤äº†ï¼‰")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/Z65gnUd.gif",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"æ„Ÿè°¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ„Ÿè°¢"}},[t._v("#")]),t._v(" æ„Ÿè°¢")]),t._v(" "),a("p",[t._v("åœ¨é‡åˆ°é—®é¢˜æ—¶ï¼Œæˆ‘åœ¨"),a("code",[t._v("Stackoverflow")]),t._v("ä¸­é‡åˆ°äº†è§£å†³æ–¹æ¡ˆï¼ˆ"),a("code",[t._v("RemoteAttribute")]),t._v("é‡å†™æ€è·¯ï¼‰ï¼Œ"),a("a",{attrs:{href:"https://stackoverflow.com/questions/9077469/asp-mvc3-modelstate-isvalid-not-include-remoteattribute-checking",target:"_blank",rel:"noopener noreferrer"}},[t._v("åœ°å€åœ¨è¿™"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("é‡å†™çš„æ—¶å€™ï¼Œçœ‹åˆ°ä¸€ä½å¤§ä½¬å†™çš„ä¾‹å­ï¼š"),a("a",{attrs:{href:"https://www.c-sharpcorner.com/UploadFile/ee01e6/create-a-custom-remote-attribute-in-mvc/",target:"_blank",rel:"noopener noreferrer"}},[t._v("C# Corner : Create a Custom Remote Attribute in MVC"),a("OutboundLink")],1),t._v("ï¼Œåªæƒ³è¯´ï¼Œç¤ºä¾‹å¤ªè¯¦ç»†äº†ï¼Œç…§ç€å†™ä¸€éï¼Œå¯ä»¥ä¸€æ¨¡ä¸€æ ·çš„è·‘èµ·æ¥")])])}),[],!1,null,null,null);s.default=e.exports}}]);